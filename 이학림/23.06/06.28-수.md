# ì˜¤ëŠ˜ í•œ ì¼
- Rust ì†Œìœ ê¶Œ, impl, String ê³µë¶€
- WebView í•´ê²°ì±… ì œì‹œ

---
## Rust
### Memory

: address, offset

memoryì—ëŠ” bit í˜•íƒœë¡œ ë°ì´í„° ì €ì¥, HWì—ì„œ ë‹¤ë£° ì •ë³´ëŠ” byte ë‹¨ìœ„ë¡œ ì²˜ë¦¬

address --- `word` ë‹¨ìœ„ data (ë…¼ë¦¬ì ìœ¼ë¡œ 4byteì—¬ì•¼ë§Œ í•˜ëŠ” ê±´ ì•„ë‹˜)  
`address`ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ `variables`ë¥¼ ì‚¬ìš©  
â‡’ variable â†’ address â†’ ì €ì¥

offset --- `byte` ë‹¨ìœ„ data   
`offset`ì„ ë‹¤ë£¨ê¸° ìœ„í•´ `index`ë¥¼ ì‚¬ìš©

<br>

```rust
data[2]
```
  â†’ data: address, [2]: offset

## Ownership

: RustëŠ” ownership ê°œë…ì„ í™œìš©í•´ì„œ ë©”ëª¨ë¦¬ íŠ¸ë˜í‚¹, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë°©ì§€

`ì†Œìœ ì(Function)ê°€ ë©”ëª¨ë¦¬ë¥¼ ì •ë¦¬í•  ì±…ì„ì„ ê°€ì§„ë‹¤` = `í•¨ìˆ˜ê°€ ëë‚˜ë©´(={} ì´í›„) ë³€ìˆ˜ë¥¼ ë°˜ë‚©í•œë‹¤`

<br>

### ì†Œìœ ê¶Œ ìƒì„±

```rust
fn main(){
	let dull = Ligth::Dull;
}
```

â†’ `ë³€ìˆ˜ë¥¼ ì •ì˜í•œ í•¨ìˆ˜(=owner)`ê°€ í•´ë‹¹ ë³€ìˆ˜ì˜ ì†Œìœ ê¶Œì„ ê°€ì§„ë‹¤.

<br>

### ì†Œìœ ê¶Œ ì´ì „

```rust
fn main(){
	let dull = Ligth::Dull;

	display_light(dull);
}
```

â†’ `ê·¸ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜(=owner)`ê°€ í•´ë‹¹ ë³€ìˆ˜ì˜ ì†Œìœ ê¶Œì„ ê°€ì§„ë‹¤.  
ë”°ë¼ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì¢…ë£Œí•˜ë©´ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ë°˜ë‚©í•˜ê²Œ ëœë‹¤ (ì†Œìœ ê¶Œì„ ê°€ì§„ í•¨ìˆ˜ì˜ ì˜ë¬´)  

<br>

ì˜ëª»ëœ ì½”ë“œ
```rust
fn main(){
  let a = 10;
  func1(a); //1ë²ˆì§¸ í˜¸ì¶œ
  func1(a); //2ë²ˆì§¸ í˜¸ì¶œ
}
```
â‡’ 1ë²ˆì§¸ í˜¸ì¶œ ë•Œ func1ì´ ì‹¤í–‰ë˜ê³ , aì˜ ì†Œìœ ê¶Œì€ func1ë¡œ ë„˜ì–´ê°„ë‹¤  
ë”°ë¼ì„œ func1(a)ê°€ ëë‚  ë•Œ, aë¥¼ ë°˜ë‚©í•˜ë¯€ë¡œ 2ë²ˆì§¸ í˜¸ì¶œì—ì„œ aë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•œë‹¤

<br>

### ì†Œìœ ê¶Œ ì°¸ì¡°/ëŒ€ì—¬

```rust
fn main(){
	let dull = Ligth::Dull;

	display_light(&dull);
}
```

â†’ `&`ë¥¼ ì‚¬ìš©, ì†Œìœ ê¶Œ ì´ì „ì´ ì—†ìœ¼ë¯€ë¡œ `ë³€ìˆ˜ë¥¼ ì •ì˜í•œ í•¨ìˆ˜(=owner)`ê°€ í•´ë‹¹ ë³€ìˆ˜ì˜ ì†Œìœ ê¶Œì„ ê°€ì§„ë‹¤.

<br>

### ê²°ë¡ 

â‡’ ê¸°ë³¸ì ìœ¼ë¡œ RustëŠ” call by reference ë°©ì‹ì„ ë”°ë¥´ê³ , referenceë¥¼ í†µí•´ ë©”ëª¨ë¦¬ ë°˜ë‚©ì„ ê´€ë¦¬í•œë‹¤.

ì´ ë•Œ `&var` ëŠ” call by reference ë°©ì‹ì€ ìœ ì§€í•˜ë˜ ë©”ëª¨ë¦¬ ì†Œìœ ê¶Œì„ ì´ì „í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ëŒ€ì—¬ ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬í•˜ê² ë‹¤ê³  ëª…ì‹œí•˜ëŠ” ê²ƒì´ë‹¤.

---

`call by value` â†’ ìƒˆë¡œìš´ ê³µê°„ì— ë³€ìˆ˜ ê°’ í• ë‹¹

`call by reference` â†’ ì‚¬ìš©ì¤‘ì¸ ë©”ëª¨ë¦¬ ê³µê°„ì˜ ì£¼ì†Œë¥¼ ë„˜ê²¨ì¤Œ

`call by name` â†’ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë‹¤ë£° ë•Œ, f()ëŠ” í•¨ìˆ˜ì˜ ê²°ê³¼ê°’ì„ fëŠ” í•¨ìˆ˜ ìì²´ë¥¼ ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ê²ƒ.  
ë”°ë¼ì„œ fëŠ” ì„œë¸Œë£¨í‹´ì—ì„œ ì‹¤í–‰ë  ë•Œ ê²°ê³¼ê°’ì´ ê²°ì •ë˜ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ì‹¤í–‰ ì˜¤ë²„í—¤ë“œë¥¼ ë°©ì§€í•œë‹¤.

call by valueëŠ” ë°ì´í„° ê°’ì„ ë„˜ê²¨ì¤€ë‹¤ê³ ,  
call by referenceëŠ” ë©”ëª¨ë¦¬ ì£¼ì†Œ ê°’ì„ ë„˜ê²¨ì¤€ë‹¤ê³ ,  
call by nameì€ í•¨ìˆ˜ì˜ ì´ë¦„(ë©”ëª¨ë¦¬ ì£¼ì†Œ)ì„ ë„˜ê²¨ì¤€ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.

---

## impl

: enum, structë¥¼ ë” ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•œë‹¤.  

í•¨ìˆ˜ì—ì„œ í•´ë‹¹ enum, structë¥¼ ì¸ìë¡œ ë°›ì•„ì˜¬ ë•Œ, ê·¸ í•¨ìˆ˜ëŠ” í•´ë‹¹ enum, structì™€ ë°€ì ‘í•˜ê²Œ ì—°ê´€ë˜ì–´ ìˆë‹¤.  
ê·¸ structê°€ ì •ì˜ë˜ì§€ ì•Šìœ¼ë©´ í•¨ìˆ˜ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ì§€ ëª»í•˜ê¸° ë•Œë¬¸ â†’ í•´ë‹¹ ë°ì´í„°êµ¬ì¡°ì™€ ì—°ê³„í•œ ì •ì˜

```rust
fn main() {
	let hot = Temperature {  };
	Temperature::show_temp(hot);
}

struct Temperature{ }

impl Temperature{
	fn show_temp(&self){
		... //using self
	}
}
```

\+ implì˜ ì°¸ ì˜ë¯¸ ì ìš©

```rust
fn main() {
	let hot = Temperature {  };
	hot.show_temp();
}

struct Temperature{ }

impl Temperature{
	fn show_temp(&self){
		... //using self
	}
}
```

â‡’ êµ¬ì¡°ì²´ë¥¼ ë§ˆì¹˜ classì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.  
fieldëŠ” struct ì•ˆì—ì„œ ì •ì˜, structë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ëŠ” impl ì•ˆì—ì„œ ì •ì˜

but, ê°ì²´ì§€í–¥ class ì—ì„œ methodëŠ” ê°ì²´ê°€ ì£¼ì²´ì ìœ¼ë¡œ í•˜ëŠ” â€˜í–‰ìœ„(ê¸°ëŠ¥)â€™ë¥¼ í‘œí˜„í•  ë•Œ ì ìš©í•œë‹¤.  
implì€ ê°ì²´(STRUCT)ê°€ ìˆ˜ë™ì ìœ¼ë¡œ í™œìš©ë˜ëŠ” ìƒí™©ì—ì„œ í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ì ìš©í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆë‹¤.

\+ ìƒì„±ìì²˜ëŸ¼ ì‚¬ìš©ê°€ëŠ¥

```rust
impl Temperature{
	fn freezing() -> Self{
		Self { };
	}

} 
```

### Vector(ë²¡í„°)
: ì •ë³´ì˜ ì—´ê±° matrixì˜ ê´€ì ì—ì„œ ë³¼ ë•Œ, arrayë‘ ë‹¤ë¥¼ ê²Œ ì—†ë‹¤.

```rust
let numbers = vec![1,2,3];

let mut my_numbers = Vec::new();
vector.push();
vector.pop(); //last added STACKì²˜ëŸ¼
vector.len();
vector[index];
```

vector ìš”ì†Œ ì ‘ê·¼
```rust
for num in my_numbers{
	... num
}
```

### ğŸ‰ ê¹œì§í€´ì¦ˆ

ì˜ëª»ëœ ì½”ë“œ

```rust
fn main() {
    let nums = vec![10,20,30,40];

    for num in nums{
        if num == 30{
            println!("thirty");
        } else{
            println!("{:?}", num);
        }
    }
    
    println!("{:?}", nums[1]);
}
```

â†’ **Ownership ê°œë…ì„ ìŠì§€ë§ì**

ì¶©ê²©ì‹¤í™” - forë¬¸ì—ì„œ numsë¼ëŠ” ë²¡í„°ë¥¼ ì‚¬ìš©, scope ì•ˆì—ì„œ numsë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°, ì´ë•Œ numsì˜ ì†Œìœ ê¶Œì€ forë¬¸ìœ¼ë¡œ ì˜®ê²¨ê°„ë‹¤.

ë”°ë¼ì„œ `nums`ê°€ ì•„ë‹Œ `&nums` ë¥¼ ë„˜ê²¨ì¤˜ì•¼ í•˜ë¯€ë¡œ,

<br>

ì˜ëª»ëœ ì½”ë“œ

```rust
fn main() {
    let nums = vec![10,20,30,40];

    for num in &nums{ //&nums
        if num == 30{
            println!("thirty");
        } else{
            println!("{:?}", num);
        }
    }
    
    println!("{:?}", nums.len());
}
```

â‡’ `&nums` ë¡œ ì§€ì •í–ˆì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œê°€ ìˆë‹¤.

error: no implementation for `&{integer} == {integer}`

num == 30 ë¹„êµ ê³¼ì •ì—ì„œ numì€ &numsì˜ ìš”ì†Œë¡œ &{integer} íƒ€ì…, 30ì€ integer íƒ€ì…ì´ë¯€ë¡œ ë¹„êµê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤.

â‡’ `&` ì— ëŒ€í•œ ì´í•´ê°€ ë” í•„ìš”í•´ë³´ì¸ë‹¤.

<br>

ì˜¬ë°”ë¥¸ ì½”ë“œ

```rust
//ë°©ë²•1
fn main() {
		...
    for num in &nums{ //&nums
        if num == &30{ //&30ìœ¼ë¡œ íƒ€ì… ë§ì¶°ì£¼ê¸°
            println!("thirty");
        } 
		}
		...
}

//ë°©ë²•2
fn main() {
    ...
    for num in nums{ //&nums
        match num{ //match ì‚¬ìš©, ë‹¨ìˆœ ìˆ˜ì‹ ë¹„êµë¥¼ í”¼í•¨
					30 => println!("thirty"),
					_ => println!("{:?}", num)
				}
    }
    ...
}
```

ì™œ matchì—ì„  `&{integer}` íƒ€ì…ìœ¼ë¡œ ë¹„êµí•˜ì§€ ì•Šì•„ë„ ë˜ëŠ”ê±¸ê¹Œ?

<br>

### matchê°€ ë™ì‘í•˜ëŠ” ë²•

: íŒ¨í„´ ë§¤ì¹­ì˜ ê¸°ëŠ¥ì„ í•˜ë©°, ì°¸ì¡°ê°’ì´ ì•„ë‹Œ valueê°’ ë¹„êµë§Œì„ ì§€ì›í•œë‹¤.  
ê·¸ë ‡ê¸° ë•Œë¬¸ì— &integer ê°’ ë˜í•œ ë˜‘ê°™ì´ value ê°’ì¸ integerë¡œ ë¹„êµí•  ìˆ˜ ìˆë‹¤.

<br>

### String
: Rustì—ì„  ë‹¤ì–‘í•œ íƒ€ì…ì„ ì§€ì›í•œë‹¤.

`String` : owned = structì— ê°’ì„ ì €ì¥í•˜ê³  ì‹¶ì„ ë•Œ
`&str` : borrowed = í•¨ìˆ˜ì˜ ì¸ìë¡œ ë„˜ê²¨ì£¼ê³  ì‹¶ì„ ë•Œ (ì¼ë°˜ì ì¸ ìƒí™©)

<br>

&str ìƒì„±

```rust
"ì•ˆë…•í•˜ì„¸ìš”" // literalì€ ìë™ìœ¼ë¡œ borrowed í¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.
&{String Type}
```

<br>

String ìƒì„±

```rust
String::from("ì•ˆë…•í•˜ì„¸ìš”"); // Stringì˜ í•¨ìˆ˜ ì‚¬ìš©
"ì•ˆë…•í•˜ì„¸ìš”".to_owned(); //&strì˜ í•¨ìˆ˜ ì‚¬ìš©
```

+_::ëŠ” ê´€ë ¨ëœ í•¨ìˆ˜ë¥¼, .ëŠ” ê´€ë ¨ëœ í•¨ìˆ˜ì— ìê¸°ìì‹ ì„ í¬í•¨í•˜ëŠ”(í•¨ìˆ˜ë©´ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ”) ê²ƒì„ ì˜ë¯¸

---
## WebView í†µì‹  í•´ê²°ì±…?
: ë³´ì•„í•˜ë‹ˆ alert ì°½ì—ì„œ methodë¥¼ ì •ì˜í•  ìˆ˜ ì—†ë‹¤ê³  ëœ¨ëŠ” ì—ëŸ¬ê°€ ì§€ì†ì ìœ¼ë¡œ ëœ¨ê³ ìˆë‹¤.  
ì•„ë§ˆ JSì—ì„œ ì‚¬ìš©í•  ë©”ì†Œë“œëŠ” postMessageë¼ëŠ” Flutter ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì •ì˜ëœ í•¨ìˆ˜ë¼ í¬ë§·ì„ ë§ì¶°ì•¼í•˜ëŠ”ë° ì €ë²ˆì— í†µì‹ ì— ë³´ë‚¼ ì¸ìê°€ ì—†ë‹¤ëŠ” ì´ìœ ë¡œ ì•„ë¬´ ì¸ìê°’ì´ ì—†ì´ í†µì‹ ì„ ë³´ë‚´ëŠ” ê²ƒì´ ë¬¸ì œë¼ê³  ìƒê°í•´ì„œ,  

í†µì‹ ìœ¼ë¡œ nullì„ ì¸ìë¡œ postMessageë¥¼ ë³´ë‚´ì§€ë§ê³  ë¹ˆ JSON êµ¬ì¡°ë¼ë„ ë„£ì–´ì„œ ë³´ë‚´ë¼ê³  ìš”ì²­í•´ë‘” ìƒíƒœë‹¤.  
=> ê°ê²© â˜…â˜…â˜… ë“œë””ì–´ í•´ê²° â˜…â˜…â˜…
