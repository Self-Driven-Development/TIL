# 스코프
## 1. 스코프가 뭔가요? 
스코프는 유효 범위라는 뜻으로, 식별자(변수)가 유효한 범위를 말합니다.

자바스크립트 엔진은 스코프를 통해 어떤 변수를 참조해야 할 것인지 결정한다. 따라서 스코프란 **자바스크립트 엔진이 식별자를 검색할 때 사용하는 규칙**이라고도 할 수 있다.

## 2. 스코프에는 어떤 종류가 있죠? 

- 전역 스코프 
  - 전역 : 코드의 가장 바깥 영역
  - 전역에 변수를 선언하면 전역 스코프를 갖는 전역 변수가 된다.
  - 어디서든 참조할 수 있다.
- 지역 스코프 
  - 지역 : 함수 몸체 내부
  - 지역에 변수를 선언하면 지역 스코프를 갖는 지역 변수가 된다.
  - 자신의 스코프와 하위 지역 스코프에서 유효

## 3. 렉시컬 스코프를 아나요? 안다면 렉시컬 스코프는 무엇을 의미하나요? 🔥
함수를 어디서 '호출' 했는지가 아닌 어디서 '정의' 했는지에 따라 함수의 상위 스코프를 결정하는 것이 정적 스코프 즉, 렉시컬 스코프를 의미합니다.
```js
var x = 1;

function foo() {
  var x = 10;
  bar();
}

function bar() {
  console.log(x);
}

foo(); // ?
bar(); // ?
```

## 4. 전역 변수로 변수를 선언하면 생기는 문제점은 무엇이 있을까요?

1. 암묵적 결합
  1. 전역 변수를 선언한 의도는 전역, 즉 코드 어디서든 참조하고 할당할 수 있는 변수를 사용하겠다는 것이다. 이는 **모든 코드가 전역 변수를 참조하고 변경할 수 있는 암묵적 결합**을 허용하는 것이다. 변수의 유효 범위(스코프)가 클수록 코드의 가독성은 나빠지고 의도치 않게 상태가 변경될 수 있는 위험성도 높아진다.
2. 변수의 긴 생명주기
   1. 전역 변수는 생명 주기가 길다. 따라서 메모리 리소스도 오랜 기간 소비한다. 또한 전역 변수의 상태를 변경할 수 있는 시간도 길고 기회도 많다. 변수 이름이 중복되기라도 한다면 의도치 않은 재할당이 이뤄지기도 한다.
3. 스코프 체인 상에서 종점에 존재
   1. 전역 변수는 스코프 체인 상에서 종점에 존재한다. 이는 변수를 검색할 때 전역 변수가 가장 마지막에 검색된다는 것을 말한다. 즉, 전역 변수의 검색 속도가 가장 느리다. 검색 속도의 차이는 그다지 크지 않지만 속도의 차이는 분명히 있다.
4. 네임스페이스 오염
   1. 자바스크립트의 가장 큰 문제점 중 하나는 파일이 분리되어 있다 해도 하나의 전역 스코프를 공유한다는 것이다. 따라서 다른 파일 내에서 동일한 이름으로 명명된 전역 변수나 전역 함수가 같은 스코프 내에 존재할 경우 예상치 못한 결과를 가져올 수 있다.

## 5. let과 const, var의 스코프 범위는?
1. let, const : 블록 레벨 스코프
2. var : 함수 레벨 스코프

## 6. Javascript의 스코프의 특징은 어떤가요?
Javascript는 기본적으로 함수 레벨 스코프를 따른다. 여기서 함수 스코프란, 함수 코드 블록 내에서 선언된 변수는 함수 코드 블록 내에서만 유효하고 함수 외부에서는 유효하지 않다(참조할 수 없다)는 것이다.

하지만 ES6에서 도입된 `let` keyword를 사용하면 블록 레벨 스코프를 사용할 수 있다.

```js
if (true) {
  var x = 5;
}
console.log(x); // 5
```

위 코드에서 x는 함수 밖에서 선언되었지만, 코드 블록 내에서 선언되었다할지라도 `var`은 함수 레벨 스코프를 사용하기에 전역 스코프를 가진다.

## 7. 암묵적 전역?

```js
var x = 10; // 전역 변수

function foo () {
  // 선언하지 않은 식별자
  y = 20;
  console.log(x + y);
}

foo(); // 30
```
- y는 선언되지 않았다. 하지만, y는 마치 선언된 변수처럼 동작한다. 이는 선언하지 않은 식별자에 값을 할당하면 전역 객체의 프로퍼티가 되기 때문이다.
- JS 엔진은 `y = 20`을 `window.y=20`으로 프로퍼티를 동적 생성한다. 결국 y는 전역 객체의 프로퍼티가 되어 마치 전역 변수처럼 동작한다.
- y는 변수가 아니라, 프로퍼티이므로 변수 호이스팅이 발생하지 않는다.

# Referecence
- https://medium.com/@su_bak/javascript-%EC%8A%A4%EC%BD%94%ED%94%84-scope-%EB%9E%80-bc761cba1023