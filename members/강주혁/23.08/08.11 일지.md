# 23.08.11

## ì˜¤ëŠ˜ í•œ ì¼

- ì¹´ê³µì‹¤ë¡ ë¦¬ë·° ë“±ë¡ api ì—°ê²° ì™„ë£Œ
- gloddy ë””ìì¸ ì‹œìŠ¤í…œ ì ìš©

## ğŸ˜€

í”„ë¡œê·¸ë¼í”¼ ëœë”© í˜ì´ì§€ ì‘ì—…ì„ ë§¡ê¸°ë¡œ í–ˆë‹¤.

ë””ìì´ë„ˆ ìš´ì˜ì§„ ëˆ„ë‚˜ê°€ ë¨¼ì € ì‘ì—… ì œì•ˆì„ í•´ì„œ ë‚˜ë„ í•˜ê¸°ë¡œ í–ˆë‹¤.

ì•„ì§ ë­”ê°€ ì´ë£¨ì–´ì§„ê²Œ ì—†ì–´ì„œ í™•ì •ì€ ì•„ë‹ˆì§€ë§Œ, ë§Œì•½ í•œë‹¤ë©´ ì‹¤ì œë¡œ ì„œë¹„ìŠ¤ì— ì ìš©ë˜ëŠ” ì‘ì—…ì´ë¼ ë”ìš± ë” ì¬ë°Œì„ ê²ƒ ê°™ë‹¤. ğŸ˜€

---

## Button ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

### twMerge ì‚¬ìš© ì‹œ ì»¤ìŠ¤í…€ í´ë˜ìŠ¤ë¼ë¦¬ ë³‘í•©í•˜ëŠ” ë¬¸ì œ

ì˜ˆë¥¼ ë“¤ì–´ `text-white`ì™€ `text-h1`ì„ ë³‘í•©í•˜ë©´ `text-white text-h1`ì´ ë˜ì–´ì•¼ í•˜ëŠ”ë°, ë§ˆì§€ë§‰ì— ë³‘í•©ëœ í´ë˜ìŠ¤ê°€ ì ìš©ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.

ë‹¤í–‰íˆ ê´€ë ¨ [ì´ìŠˆ](https://github.com/dcastil/tailwind-merge/issues/276)ë¥¼ ì°¾ì•„ì„œ í•´ê²°í•  ìˆ˜ ìˆì—ˆë‹¤.

```js
const customTwMerge = extendTailwindMerge({
  classGroups: {
    'font-size': [
      {
        text: Object.keys(fontSizes),
      },
    ],
  },
});

const cn = (...inputs: ClassValue[]) => {
  return customTwMerge(clsx(inputs));
};
```

ì´ì œ clsxì™€ twMergeë¥¼ ì‚¬ìš©í•  ë•Œ `cn` ìœ í‹¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤!

### Button ì»´í¬ë„ŒíŠ¸

ë¯¸ë¦¬ ì»¬ëŸ¬ë¥¼ ì •ì˜í•´ë‘ì—ˆê¸° ë•Œë¬¸ì—, ìˆ˜ì›”í•˜ê²Œ ì§„í–‰í•  ìˆ˜ ìˆì—ˆë‹¤.

<details>
<summary>Button ì½”ë“œ</summary>

```tsx
import cn from '@/utils/cn';

export interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  /**
   * ë²„íŠ¼ì˜ í¬ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. small: 48px, medium: 56px (default: medium)
   */
  size?: 'small' | 'medium';
  /**
   * ë²„íŠ¼ì˜ ìƒ‰ìƒì„ ì„¤ì •í•©ë‹ˆë‹¤. (default: solid-primary)
   */
  variant?:
    | 'solid-primary'
    | 'solid-default'
    | 'solid-secondary'
    | 'outline-warning'
    | 'solid-warning';
  children: React.ReactNode;
}

export default function Button({
  size = 'medium',
  variant = 'solid-primary',
  className,
  disabled,
  children,
  ...props
}: ButtonProps) {
  return (
    <button
      className={cn(
        'flex items-center justify-center rounded-8 px-24 py-16 text-subtitle-2',
        {
          'h-56': size === 'medium',
          'h-48': size === 'small',
          'bg-primary text-sign-white disabled:bg-primary-light': variant === 'solid-primary',
          'bg-button text-sign-secondary disabled:bg-sub disabled:text-sign-caption':
            variant === 'solid-default',
          'bg-brand-color text-sign-brand disabled:text-sign-white': variant === 'solid-secondary',
          'border border-warning bg-warning-color text-warning disabled:border-warning-light disabled:bg-white disabled:text-warning-light':
            variant === 'outline-warning',
          'bg-warning text-sign-white disabled:bg-sub disabled:text-sign-caption':
            variant === 'solid-warning',
        },
        className
      )}
      disabled={disabled}
      {...props}
    >
      {children}
    </button>
  );
}
```

</details>

### ButtonGroup ì»´í¬ë„ŒíŠ¸

ButtonGroup ì»´í¬ë„ŒíŠ¸ëŠ” Button ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ëŠ” ì—­í• ì„ í•œë‹¤.

`position`ì´ `bottom`ì¸ ê²½ìš°, í™”ë©´ í•˜ë‹¨ì— ê³ ì •ë˜ì–´ì•¼ í•œë‹¤.

ê·¸ë¦¬ê³  Group ì•ˆ ë²„íŠ¼ì´ í•˜ë‚˜ì¸ ê²½ìš°ì™€ ë‘ ê°œì¸ ê²½ìš°ë¥¼ êµ¬ë¶„í•´ì•¼ í–ˆë‹¤.

- í•˜ë‚˜ì¸ ê²½ìš°: ë²„íŠ¼ì´ í™”ë©´ ë„ˆë¹„ì˜ 100%ë¥¼ ì°¨ì§€í•´ì•¼ í•œë‹¤.
- ë‘ ê°œì¸ ê²½ìš°: ì™¼ìª½ ë²„íŠ¼ì€ íšŒìƒ‰ ë²„íŠ¼, ì˜¤ë¥¸ìª½ ë²„íŠ¼ì€ íŒŒë€ìƒ‰ ë²„íŠ¼ì´ê³  ë‘ ë²„íŠ¼ ì‚¬ì´ì—ëŠ” 8pxì˜ ê°„ê²©ì´ ìˆì–´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  íŒŒë€ìƒ‰ ë²„íŠ¼ì˜ flex-growëŠ” 1ì´ë‹¤.

### ğŸ¤”ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ë”°ë¡œ ì£¼ê³  ì‹¶ì§€ ì•Šì€ë° ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?

ë‚˜ëŠ” ì´ë ‡ê²Œ ì“°ê³  ì‹¶ì—ˆë‹¤.

```tsx
<ButtonGroup>
  <Button>ê±´ë„ˆë›°ê¸°</Button>
  <Button>í™•ì¸</Button>
</ButtonGroup>
```

ì´ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” childrenìœ¼ë¡œ ê°€ì ¸ì˜¨ Button ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ ì „ë‹¬í•´ì•¼ í•œë‹¤.

ê·¸ë˜ì„œ ë¨¼ì € ê°€ì ¸ì˜¨ childrenì´ Button ì»´í¬ë„ŒíŠ¸ì¸ì§€ í™•ì¸í•˜ê³ , Button ì»´í¬ë„ŒíŠ¸ë¼ë©´ propsë¥¼ ì „ë‹¬í•˜ë„ë¡ í–ˆë‹¤.

### 1. ê°€ì ¸ì˜¨ childrenì´ Button ì»´í¬ë„ŒíŠ¸ì¸ì§€ í™•ì¸í•˜ê¸°

`isValidElement`ë¥¼ ì‚¬ìš©í•´ì„œ ë¦¬ì•¡íŠ¸ ì—˜ë¦¬ë¨¼íŠ¸ì¸ì§€ í™•ì¸í•œë‹¤.  
ê·¸ë‹¤ìŒ `name`ì„ ì‚¬ìš©í•´ì„œ Button ì»´í¬ë„ŒíŠ¸ì¸ì§€ í™•ì¸í•œë‹¤.

```tsx
const validChildren = Children.toArray(children).filter(
  child =>
    isValidElement(child) &&
    (
      child.type as {
        name: string;
      }
    ).name === 'Button'
) as ReactElement[];
```

### 2. Button ì»´í¬ë„ŒíŠ¸ë¼ë©´ propsë¥¼ ì „ë‹¬í•˜ê¸°

`cloneElement`ë¥¼ ì‚¬ìš©í•´ì„œ propsë¥¼ ì „ë‹¬í•´ì£¼ì–´ ë³µì‚¬í•œ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë¦¬í„´í•œë‹¤. ì´ ë•Œ, ê¸°ì¡´ì— ìˆë˜ `className`ì´ ìœ ì§€ë˜ë„ë¡ `cn` ìœ í‹¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

```tsx
const renderElements = (elements: ReactElement[]) => {
  if (elements.length === 1) {
    const props = elements[0].props as ButtonProps;
    return cloneElement(elements[0], {
      className: cn('w-full', props.className),
    });
  }

  return (
    <div className="flex gap-8">
      {elements.map((element, index) => {
        const props = elements[index].props as ButtonProps;

        if (index === 0) {
          return cloneElement(element, {
            className: cn('flex-shrink-0', props.className),
            variant: props.variant ?? 'solid-default',
          });
        }
        return cloneElement(element, { className: cn('w-full', props.className) });
      })}
    </div>
  );
};
```

### ìµœì¢… ì½”ë“œ

ì´ì œ ButtonGroup ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤..!

> í•˜ë‚˜ì¸ ê²½ìš°

<img width="436" alt="image" src="https://github.com/Self-Driven-Development/TIL/assets/23312485/4bc1f9d8-0142-45a9-baba-c146dccdd66a"/>

```tsx
<ButtonGroup>
  <Button>í™•ì¸</Button>
</ButtonGroup>
```

> ë‘ ê°œì¸ ê²½ìš°

 <img width="442" alt="image" src="https://github.com/Self-Driven-Development/TIL/assets/23312485/c835920a-2162-4ba6-907a-ee7012a12d92"/>

```tsx
<ButtonGroup>
  <Button>ê±´ë„ˆë›°ê¸°</Button>
  <Button>í™•ì¸</Button>
</ButtonGroup>
```

<details>
<summary>ButtonGroup ì½”ë“œ</summary>

```tsx
import cn from '@/utils/cn';
import { Children, type ReactElement, cloneElement, isValidElement } from 'react';

import type { ButtonProps } from './Button';

interface ButtonGroupProps {
  /**
   * ë²„íŠ¼ ê·¸ë£¹ì˜ ìœ„ì¹˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. (default: bottom)
   */
  position?: 'bottom' | 'contents';
  children: React.ReactNode;
}

export default function ButtonGroup({ position = 'bottom', children }: ButtonGroupProps) {
  const validChildren = Children.toArray(children).filter(
    child =>
      isValidElement(child) &&
      (
        child.type as {
          name: string;
        }
      ).name === 'Button'
  ) as ReactElement[];

  const renderElements = (elements: ReactElement[]) => {
    if (elements.length === 1) {
      const props = elements[0].props as ButtonProps;
      return cloneElement(elements[0], {
        className: cn('w-full', props.className),
      });
    }

    return (
      <div className="flex gap-8">
        {elements.map((element, index) => {
          const props = elements[index].props as ButtonProps;

          if (index === 0) {
            return cloneElement(element, {
              className: cn('flex-shrink-0', props.className),
              variant: props.variant ?? 'solid-default',
            });
          }
          return cloneElement(element, { className: cn('w-full', props.className) });
        })}
      </div>
    );
  };

  return (
    <div
      className={cn('mx-auto border-t-1 border-divider bg-white p-20 pt-7', {
        'fixed inset-x-0 bottom-0 max-w-450': position === 'bottom',
      })}
    >
      {renderElements(validChildren)}
    </div>
  );
}
```

</details>

## ë‚´ì¼ í•  ì¼

- í”„ë¡œê·¸ë¼í”¼ íŒ€ íšŒì˜
- ì¹´ê³µì‹¤ë¡ ê°œë°œ
- gloddy ê°œë°œ