# 23.05.22

## 오늘 한 일

- [x] 익스텐션 에러 수정
- [x] IT 특강 프로젝트 회의
- [ ] 알고리즘 문제 풀이
- [ ] Nest.js 강의 듣기
- [ ] 카공실록 프로젝트 시작

---

## 익스텐션 게시 취소...

어젯밤에 글을 올리고, 급하게 에러 수정해서 업데이트를 했다. 그러다 빌드 파일 잘못올린거 깨닫고 취소하려 했는데... 게시 취소 버튼이 그냥 게시 검토 중인 파일의 게시를 취소한건 줄 알았는데... 아니었다.

스토어에 익스텐션 내려가게 하는거였다. 링크에 404 페이지가 뜨고 에브리타임에는 글이 올라갔고... 일단 에타에다가 링크 막혔다고 쓰고 구글에 복구 요청을 보내서 기다렸다. 언제까지 검토 완료될 지 몰라 하루종일 애가 탔다.

그러다가 오후 7시에 드디어! 검토 완료되었다는 메일이 왔다. 그래서 빠르게 게시하고 링크를 살려냈다.

다운로드가 안돼서 오히려 스크랩이 많이 달린 것 같기도 하다ㅋㅋㅋ 복구되고나서 복구됐다는 글 올려서 핫게에 오르게 했다.

<img width="141" alt="image" src="https://github.com/kangju2000/gachon-extension/assets/23312485/6dbc2240-7384-49f7-9151-7d39710640b4">

## 익스텐션 테스트 코드 작성

유틸 함수를 먼저 테스트했다. 유닛테스트 하기 위해 jest 라이브러리 설치하고 세팅했다.

테스트 코드 짜기 전에는 내가 리팩토링한게 잘 돌아갈까하는 찝찝함을 가지면서 배포를 했는데, 테스트 코드를 짜고 나니까 직접 사이버캠퍼스에 들어가서 테스트하는 시간이 줄어들어 좋았다.

## 크롤링 로직 수정

지금은 `endAt`(마감 기한)만 가져오고 있는데, `startAt`(시작 기한)도 가져오도록 수정했다.

## 애매한 부분

여러 강의들을 크롤링해볼 수가 없어서 어떤 예외가 있는지 알 수 없다. 그래서 예외 처리를 어떻게 해야할 지 모르겠다.

예를 들어, 어떤 과제는 링크가 없고, 어떤 과제는 마감 기한이 없는 경우가 있다. 내 로직이 잘못된건지 엣지케이스인지 모르겠다.

일단 id가 없는건 과제가 활성화되지 않았다고 판단하여 과제를 가져오지 않도록 했다.

`startAt`이 없거나 `No Time Limit` 이런 식으로 받아올 때도 있다. `YYYY-MM-DD HH:MM:SS` 형식으로 받아오는데, 이 형식이 아닌 경우에는 로그를 남겨 확인해볼 수 있도록 수정했다.

---

## 내일 할 일

- [ ] 알고리즘 문제 풀이
- [ ] Nest.js 강의 듣기
- [ ] 카공실록 프로젝트 시작
