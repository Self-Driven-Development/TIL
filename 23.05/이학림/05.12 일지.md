## ğŸ¯ Fragmentì•ˆì— Fragment ë„ìš°ê¸°
___
### Fragment in Fragmentë¥¼ ìœ„í•œ ê³¼ì •
`OuterFragment.kt`ì—ì„œ `FragmentManager` ì‚¬ìš©  
```Kotlin
childFragmentManager.beginTransaction()
```

<br>

`OuterFragmentLayout.xml`ì—ì„œ `FrameLayout` ìë¦¬ë§ˆë ¨  
```Kotlin
<FrameLayout />
```

<br>

`OuterFragment.kt`ì—ì„œ InnerFragmentë¥¼ ë°›ì•„ì˜¬ `container = FrameLayout` ê´€ë¦¬ 
```Kotlin
val container = root.findViewById<FrameLayout>(R.id.FRAME_LAYOUT)
```
___
### InnerFragmentì˜ í™”ë©´ì´ ìƒë‹¨ AppBarì™€ ê²¹ì³ì„œ ìœ„ìª½ì´ ì˜ë¦¬ëŠ” ë¬¸ì œ
: OuterFragmentê°€ ë§Œë“¤ì–´ë‚´ëŠ” í™”ë©´ ë‚´ì—ì„œ AppBarì™€ InnerFragmentê°€ ì¤‘ì²©ë˜ì§€ ì•Šê²Œ ë ˆì´ì•„ì›ƒì´ ì°¨ì§€í•˜ëŠ” ê³µê°„ êµ¬ë¶„ì´ ëª…í™•í•´ì•¼í•¨   
`OuterFragmentLayout.xml` ë ˆì´ì•„ì›ƒ íŒŒì¼ì—ì„œ `CoordinateLayout` â†’ `LinearLayout` ìˆ˜ì • í›„ ë¬¸ì œí•´ê²°  

<br>

ğŸ˜ CoordinateLayoutì€ ì •ì²´ê°€ ë­”ê°€..?  
<br>

___
### InnerFragmentì˜ í™”ë©´ì´ í•˜ë‹¨ NavigationBarì™€ ì—¬ì „íˆ ê²¹ì¹˜ëŠ” ë¬¸ì œ
why? NavigationBarëŠ” í˜„ì¬ OuterFragmentë¥¼ í¬í•¨í•˜ëŠ” ìƒìœ„ Activityì—ì„œ ì •ì˜ë˜ë¯€ë¡œ í˜„ì¬ íŒŒì¼ì˜ ë ˆì´ì•„ì›ƒ ë³€í™”ë¡œ í•´ê²°í•  ìˆ˜ ì—†ìŒ  
ğŸ˜ â‡’ Activityì˜ ë ˆì´ì•„ì›ƒì„ `ConstraintLayout` â†’`LinearLayout` ë°”ê¾¼ë‹¤ë©´?  
â‡’ í•˜ë‹¨ë°” ìì²´ê°€ ì‚¬ë¼ì ¸ë²„ë¦°ë‹¤..

ğŸ˜€ â‡’ ì–´ì°¨í”¼ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ InnerFragmentë¥¼ ë§Œë“œë¯€ë¡œ, InnerFragmentë¥¼ ë‹´ëŠ” LinearLayoutì— íŒ¨ë”© ì¶”ê°€(ì•„ë˜ í•˜ë‹¨ë°” í¬ê¸° ë§Œí¼)  
<br>

___
## ğŸ¯ íƒ­ë°”ë¥¼ ëˆŒë €ì„ ë•Œ íƒ­ì— ë§ëŠ” í˜ì´ì§€ ë„ìš°ê¸°
: "ëˆ„ë¦„"ì´ë¼ëŠ” ì´ë²¤íŠ¸ë¥¼ ë‹¤ë¤„ì•¼í•˜ë¯€ë¡œ ktíŒŒì¼ì—ì„œ ë‹¤ë¤„ì§„ë‹¤.  
___

### ì‚¬ìš©í•  TabLayout ê°ì²´ë¡œ ë°›ì•„ì˜¤ê¸°
``` Kotlin
val tabLayout = root.findViewById<TabLayout>(R.id.TABS)
```
ì „ì—ë„ ì“´ ê²ƒ ê°™ì§€ë§Œ rootëŠ” FragmentBinding.inflate()ë¡œ ë§Œë“¤ì–´ì§„ ì—°ê´€ëœ Viewì˜ ëª¨ì„ì´ë‹¤.  
___
### Tab ì´ë²¤íŠ¸ í•¸ë“¤ë§
```
tabLayout.addOnTabSelectedListener(object: TabLayout.OnTabSelectedListener{
	override fun onTabUnselected(tab: TabLayout.Tab?) {}
    override fun onTabSelected(tab: TabLayout.Tab?) {}
    override fun onTabReselected(tab: TabLayout.Tab?) {}
})
```
1. TabLayout ê°€ì ¸ì˜¤ê¸°
: ì‚¬ìš©í•  ë ˆì´ì•„ì›ƒ ê°ì²´ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒ
2. addOnTabSelectedListenerë¥¼ í™œìš©í•´ì„œ ê°ì²´ë¥¼ ì „ë‹¬  
: TabLayoutì— Listenerë¥¼ ë§ë¶™ì„ìœ¼ë¡œì¨ íƒ­ì—ì„œ 'ì´ë²¤íŠ¸'ì˜ ë°œìƒì„ ê°ì§€í•  ìˆ˜ ìˆê²Œëœë‹¤
3. OnTabSelectedListener ê°ì²´ì˜ ë©”ì†Œë“œë“¤ ì¬ì •ì˜
: íƒ­ì—ì„œ ë°œìƒí•˜ëŠ” ì •í•´ì§„ 'ì´ë²¤íŠ¸'ë¥¼ ë°›ì•˜ì„ ë•Œ ì–´ë–»ê²Œ í•¸ë“¤ë§í• ì§€ ê²°ì •
___
### Tab ì´ë²¤íŠ¸ í•¸ë“¤ë§í•´ì„œ InnerFragment ë„ìš°ê¸°
: **Tabì„ ëˆ„ë¥´ë©´ ì´ì „ Tabì˜ Fragmentê°€ ì‚­ì œë˜ê³  ìƒˆë¡œìš´ Tabì˜ Fragmentë¥¼ í™”ë©´(FrameLayout)ì— ë„ìš´ë‹¤**  

<br>

#### ì´ì „ Tabì˜ Fragmentê°€ ì‚­ì œëœë‹¤
ë‹¤ë¥¸ Tabì„ ëˆ„ë¥´ë©´ = ì§€ê¸ˆì˜ Tab ì„ íƒì´ ì—†ì–´ì§€ë©´ = `onTabUnselected()`   
ê¸°ì¡´ì˜ Fragmentê°€ ì—†ì–´ì§€ê²Œ = `.remove(FRAGMENT)`  

``` Kotlin
override fun onTabUnselected(tab: TabLayout.Tab?) {
	childFragmentManager.beginTransaction()
    .remove(childFragments[tab!!.position])
    .commit()
}
```
  <br>  

#### ìƒˆë¡œìš´ Tabì˜ Fragment FrameLayoutì— ëœ¬ë‹¤
Tabì„ ëˆ„ë¥´ë©´ = `onTabSelected()`   
Fragmentê°€ ëœ¨ê²Œ = `.add(FRAME_LAYOUT, FRAGMENT)`
```
override fun onTabSelected(tab: TabLayout.Tab?) {
	childFragmentManager.beginTransaction()
	.add(container.id, childFragments[tab!!.position])
	.commit()
}
```

ğŸ˜ â‡’ ë‹¤ë£¨ê³  ìˆëŠ” OuterFragmentì—ì„œ ë‹¤ë¥¸ Fragmentí™”ë©´ì„ ë“¤ë ¸ë‹¤ ëŒì•„ì˜¨ ê²½ìš° ê¸°ì¡´ì— í™”ë©´ì— ë– ìˆë˜ InnerFragmentê°€ ì‚­ì œë˜ì§€ ì•Šê³  ì¤‘ë³µë¼ìˆëŠ” ë¬¸ì œë°œìƒ   

ë¬¸ì œë¶„ì„: ê¸°ì¡´ Fragment ì‚­ì œëŠ” Tab ë³€í™˜ì‹œì—ë§Œ ë°œìƒí•˜ë¯€ë¡œ, Tab ë³€í™˜ì´ ì•„ë‹Œ Fragmentì˜ ì´ë™ìœ¼ë¡œëŠ” Fragmentë¥¼ ì‚­ì œì‹œí‚¤ì§€ ëª»í•œë‹¤.  

â†’ Fragmentë„ ìƒì• ì£¼ê¸° ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë¯€ë¡œ ì´ëŸ° ë°©ì‹ì„ ì´ìš©í•´ì„œ ì²˜ë¦¬í•´ë³¼ ìƒê°ì´ë‹¤.
