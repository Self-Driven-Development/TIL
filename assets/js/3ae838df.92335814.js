"use strict";(self.webpackChunkdogsounds_til=self.webpackChunkdogsounds_til||[]).push([[7742],{68339:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var r=n(39953);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),d=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return r.createElement(i.Provider,{value:t},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),s=d(n),u=a,g=s["".concat(i,".").concat(u)]||s[u]||m[u]||o;return n?r.createElement(g,l(l({ref:t},p),{},{components:n})):r.createElement(g,l({ref:t},p))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=u;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[s]="string"==typeof e?e:a,l[1]=c;for(var d=2;d<o;d++)l[d]=n[d];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},40655:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var r=n(855),a=(n(39953),n(68339));const o={title:"08 (\ud1a0)",tags:["localStorage","firebase","git"]},l="Study",c={unversionedId:"\uc1a1\uc740\uc218/23.07/08",id:"\uc1a1\uc740\uc218/23.07/08",title:"08 (\ud1a0)",description:"localStorage",source:"@site/members/\uc1a1\uc740\uc218/23.07/08.md",sourceDirName:"\uc1a1\uc740\uc218/23.07",slug:"/\uc1a1\uc740\uc218/23.07/08",permalink:"/TIL/members/\uc1a1\uc740\uc218/23.07/08",draft:!1,editUrl:"https://github.com/Self-Driven-Development/TIL/tree/main/\uc1a1\uc740\uc218/23.07/08.md",tags:[{label:"localStorage",permalink:"/TIL/members/tags/local-storage"},{label:"firebase",permalink:"/TIL/members/tags/firebase"},{label:"git",permalink:"/TIL/members/tags/git"}],version:"current",frontMatter:{title:"08 (\ud1a0)",tags:["localStorage","firebase","git"]},sidebar:"all",previous:{title:"07 (\uae08)",permalink:"/TIL/members/\uc1a1\uc740\uc218/23.07/07"},next:{title:"09 (\uc77c)",permalink:"/TIL/members/\uc1a1\uc740\uc218/23.07/09"}},i={},d=[{value:"localStorage",id:"localstorage",level:3},{value:"firebase",id:"firebase",level:2},{value:"backend\uc640 \uc5f0\uacb0",id:"backend\uc640-\uc5f0\uacb0",level:3},{value:"Create",id:"create",level:3},{value:"Read",id:"read",level:3},{value:"Delete",id:"delete",level:3},{value:"\uc2e4\uc2dc\uac04 \ubc18\uc601",id:"\uc2e4\uc2dc\uac04-\ubc18\uc601",level:3},{value:"Update",id:"update",level:3},{value:"Optimistic Update",id:"optimistic-update",level:3},{value:"git add",id:"git-add",level:3},{value:"\uc88b\uc544\ud568\uc758 \uc815\ub3c4",id:"\uc88b\uc544\ud568\uc758-\uc815\ub3c4",level:3}],p={toc:d},s="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"study"},"Study"),(0,a.kt)("h3",{id:"localstorage"},"localStorage"),(0,a.kt)("p",null,"\ub85c\uadf8\uc778\uc744 \ud558\uace0 \uc0c8\ub85c\uace0\uce68\uc744 \ud558\uba74 \ub85c\uadf8\uc778\ud588\ub358 \uc815\ubcf4\uac00 \ub0a0\ub77c\uac00\uc11c \uc815\uc0ad\uc801\uc73c\ub85c \ub80c\ub354\ub9c1\uc774 \uc548\ub41c\ub2e4.\nlocalStorage\ub97c \uc0ac\uc6a9\ud574 \ub85c\uadf8\uc778\uc744 \ud558\uba74 \uc720\uc9c0\ub418\ub3c4\ub85d \ub9cc\ub4e4\uc5c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'//Login.js\nconst submitHandler = (event) => {\n  event.preventDefault();\n  setId("");\n  setPw("");\n  if (idReady === true && pwReady === true && tryNum > 4) {\n    acceptLogin.forEach((item) => {\n      console.log(item);\n      if (item.id === id && item.pw === pw) {\n        idChange(item.name);\n        localStorage.setItem("loggedIn", item.name);\n        navigate("/Home");\n      } else {\n        setIsModalOpen(true);\n      }\n    });\n  }\n};\n')),(0,a.kt)("p",null,"\uc815\uc0c1\uc801\uc73c\ub85c \ub85c\uadf8\uc778\uc774 \ub3d9\uc791\ud558\uba74 key \uac12\uc73c\ub85c loggedIn, value \uac12\uc73c\ub85c \ub85c\uadf8\uc778\ub41c \uc774\ub984\uc744 \ub118\uae30\uace0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'//Layout.js\nconst loggedInId = localStorage.getItem("loggedIn");\n\n<div>{loggedInId}\ub2d8, \uc548\ub155\ud558\uc138\uc694!</div>;\n')),(0,a.kt)("p",null,"layout \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uac00\uc838\uc640 \uc0ac\uc6a9\ud588\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const logoutHandler = () => {\n  localStorage.removeItem("loggedIn");\n  navigate("/");\n};\n')),(0,a.kt)("p",null,"\ub85c\uadf8\uc544\uc6c3 \ubc84\ud2bc\ub3c4 \ub9cc\ub4e4\uc5b4 handler\ub97c \ub3d9\uc791\ud558\uac8c \ud588\ub2e4."),(0,a.kt)("h2",{id:"firebase"},"firebase"),(0,a.kt)("h3",{id:"backend\uc640-\uc5f0\uacb0"},"backend\uc640 \uc5f0\uacb0"),(0,a.kt)("p",null,"\uc5b4\uc81c firebase \ub3d9\uc791\uc744 \uc5f0\uc2b5\ud588\uc73c\ub2c8 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc801\uc6a9\uc2dc\ucf1c \ubd24\ub2e4."),(0,a.kt)("h3",{id:"create"},"Create"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const createMemo = async () => {\n  try {\n    const collectionRef = collection(db, "Memo");\n    const docRef = await addDoc(collectionRef, {\n      title: title,\n      content: content,\n    });\n  } catch (error) {\n    console.error("Error happend : ", error);\n  }\n};\n')),(0,a.kt)("p",null,"\uc5b4\uc81c\ub294 setDoc\uc73c\ub85c \ubc14\uafb8\uc5b4 \ubb38\uc11c\uac12\uc744 \uc9c0\uc815\ud558\ub824\uace0 \ud588\uc73c\ub098, \ubb38\uc11c\uac12\uc744 \uc9c0\uc815\ud574\uc11c \ub531\ud788 \ud560\uac8c \uc5c6\uc5c8\ub2e4.(\uadf8\ub0e5 \ud0a4 \uac12\uc77c \ubfd0\uc774\ub77c)",(0,a.kt)("br",{parentName:"p"}),"\n","addDoc\uc73c\ub85c \uc218\uc815\ud574 \ub9cc\ub4e4\uc5c8\ub2e4."),(0,a.kt)("h3",{id:"read"},"Read"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const readMemo = async () => {\n  try {\n    const memoSnapShot = await getDocs(collection(db, "Memo"));\n    setContents(\n      memoSnapShot.docs.map((doc) => {\n        return { ...doc.data(), id: doc.id };\n      })\n    );\n    // setContents(prev=>memoSnapShot.docs);\n  } catch (error) {\n    console.error("Error happened:", error);\n  }\n};\n')),(0,a.kt)("p",null,"\ucc98\uc74c\uc5d0 getDocs\ub85c \ubc1b\uc544\uc628 \uac12 \uc790\uccb4\uc5d0 .map\uc744 \uc801\uc6a9\uc2dc\ucf30\ub354\ub2c8 \uc801\uc6a9\uc774 \ub418\uc9c0 \uc54a\uc558\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\ubc18\ud658\uac12\uc740 querySnapshot\uc774\uc600\ub294\ub370, .forEach\uac00 \uc801\uc6a9\ub418\uc5b4\uc11c .map\uc740 \uc65c \uc548\ub418\uc9c0\ud558\uace0 \ubd24\ub354\ub2c8 .forEach\ud568\uc218\uac00 \ub0b4\uc7a5\ub418\uc5b4\uc788\uc5b4\uc11c \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud55c \uac70\uc600\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n",".docs\ub97c \ubd99\uc774\uba74 \ubc30\uc5f4\uc744 \ubc18\ud658\ud558\uace0, .map\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\uc5c8\ub2e4. \uac01 \ubc30\uc5f4\uac12\ub4e4\uc5d0 .data()\ub97c \uc801\uc6a9\ud558\uba74 \ud544\ub4dc\uac12\ub4e4\uc744 \uac00\uc838\uc628\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"setContents(\n  memoSnapShot.docs.map((doc) => {\n    return { ...doc.data(), id: doc.id };\n  })\n);\n")),(0,a.kt)("p",null,"\uc774 \ucf54\ub4dc\ub97c \uc9dc\ub294\uac8c \uc0dd\uac01\ubcf4\ub2e4 \uc5b4\ub824\uc6e0\ub2e4. \uac01 \ubb38\uc11c\uac12\uacfc id\uc5d0 \uc811\uadfc\ud558\uc5ec \ub0b4\uac00 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 state\uc5d0 \ubc30\uc5f4\ub85c \uc9d1\uc5b4\ub123\uc5b4\uc57c \ud558\ub294\ub370, .map\uc758 \ubc18\ud658\uac12\uc774 \ubc30\uc5f4\uc774\ub780 \uc0ac\uc2e4\uc744 \ud5f7\uac08\ub824\uc11c \uace0\ubbfc\uc744 \ub9ce\uc774 \ud588\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("p",null,"\ucd94\ud6c4 delete, update\uc5d0 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 doc.id (\ubb38\uc11c\uac12)\ub3c4 state\uc5d0 \uc800\uc7a5\ud588\ub2e4. \uc774\ub807\uac8c \ub9cc\ub4e0 state\uc740"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"{\n  contents?.map((item) => {\n    return (\n      <MemoList\n        key={item.id}\n        title={item.title}\n        content={item.content}\n        id={item.id}\n        onDelete={deleteHandler}\n        contentChange={contentChangeHandler}\n      ></MemoList>\n    );\n  });\n}\n")),(0,a.kt)("p",null,"map\uc744 \ud1b5\ud574 \ubfcc\ub824\uc92c\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\ucf54\ub4dc\ub97c \uc9dc\uba74\uc11c \uad81\uae08\ud55c \uc810\uc774 \uc0dd\uacbc\ub2e4. readMemo\uc5d0\uc11c \ucf54\ub4dc\ub97c \ubc1b\uc544\uc624\ub294 \ub3d9\uc548, \ucf54\ub4dc\uac00 \uc2e4\ud589\ub418\uba74?",(0,a.kt)("br",{parentName:"p"}),"\n","\uc989 \ube44\ub3d9\uae30 \ucc98\ub9ac\uac00 \uc644\ub8cc\ub418\uae30 \uc804\uc5d0 \ube44\ub3d9\uae30 \ubc18\ud658\uac12\uc744 \ub80c\ub354\ub9c1 \uc2dc\ucf1c\ubc84\ub9ac\uba74?"),(0,a.kt)("br",null),"error \ubc1c\uc0dd \ud639\uc740 \ubc84\ud37c\ub9c1 \ubc1c\uc0dd. \ubc84\ud37c\ub9c1\uc740 ssr\uc774\ub0d0 csr\uc774\ub0d0\uc5d0 \ub530\ub77c \uc870\uae08 \ub2e4\ub974\uae34 \ud55c\ub370, \uc554\ud2bc \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub098\uc624\ub294\ub370 \uae4c\uc9c0 \uc2dc\uac04\uc774 \uac78\ub9b0\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc73c\ub85c suspense, fallback, react-query\ub4f1\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. suspense\ub97c \uac78\uc5b4 \uc544\uc9c1 \uc694\uccad\ud55c \uac12\uc774 \ub3c4\ucc29\ud558\uc9c0 \uc54a\uc558\uc73c\uba74 fallback\ud568\uc218\ub97c \uc2e4\ud589\uc2dc\ucf1c loading \uc911\uc774\ub77c\ub294 \uac83\uc744 \ud45c\uc2dc\ud55c\ub2e4. react-query\ub85c \uc774\ub97c \ub2e8\uc21c\ud654 \uc2dc\ud0ac \uc218 \uc788\ub2e4.",(0,a.kt)("h3",{id:"delete"},"Delete"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const deleteMemo = async (id) => {\n  try {\n    const docRef = doc(db, "Memo", id);\n    await deleteDoc(docRef);\n  } catch (error) {\n    console.error("Error happened", error);\n  }\n};\n')),(0,a.kt)("p",null,"delete\ub294 \ube44\uad50\uc801 \uac04\ub2e8\ud558\uac8c \uad6c\ud604\ud588\ub2e4. \ub2e4\ub9cc \ud55c\uac00\uc9c0 \uc8fc\uc758\ud560 \uc810\uc740, Create\uc744 \ud558\ub4e0 delete\uc744 \ud558\ub4e0 \uadf8 \ub4a4\uc5d0 read\uc744 \ud574\uc918\uc57c \ud588\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\uc11c\ubc84\uc5d0\uc11c \uac12\uc744 \ub9cc\ub4e4\uac70\ub098 \uc9c0\uc6b0\uae30\ub9cc \ud560 \ubfd0, \uc0c8\ub85c \uc77d\uc5b4\ub4e4\uc774\uc9c4 \uc54a\uc558\ub2e4."),(0,a.kt)("h3",{id:"\uc2e4\uc2dc\uac04-\ubc18\uc601"},"\uc2e4\uc2dc\uac04 \ubc18\uc601"),(0,a.kt)("p",null,"\uc774\ub97c \ubc18\uc601\ud558\uae30 \uc704\ud574 \ucc98\uc74c \uc0dd\uac01\ud588\ub358 \ubc29\ubc95\uc740 useEffect\ub97c \uc0ac\uc6a9\ud558\ub824\ud588\uc9c0\ub9cc, \uc774\ub294 \ubb34\ud55c\uc21c\ud658\uc774 \uc57c\uae30 \ub418\uc5c8\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\ub610 \ub2e4\ub978 \ubc29\ubc95\uc73c\ub85c \uc2e4\ud589\uc774 \ub420 \ub54c\ub9c8\ub2e4 setContents\ub97c \ubcc0\uacbd\ud558\ub294 \ubc29\ubc95\uc774\uc600\ub294\ub370, \uc774\ub294 \uc11c\ubc84\uc758 \uac12\uacfc \uc774\uc9c8\uc801\uc778 \ub290\ub08c\uc774 \ub4e0\ub2e4\uace0 \uc0dd\uac01\ud588\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\uadf8\ub798\uc11c \uac01 \ud568\uc218\ub4e4\uc774 \uc2e4\ud589\ub418\uace0 readMemo()\uc5ed\uc2dc \uc2e4\ud589\ub418\ub3c4\ub85d \uad6c\ud604\ud588\ub2e4."),(0,a.kt)("h3",{id:"update"},"Update"),(0,a.kt)("p",null,"\uadf8\ub0e5 state\ubc30\uc5f4\uc744 \uc0ac\uc6a9\ud560 \ub550 props\ub85c ",(0,a.kt)("inlineCode",{parentName:"p"},"editContent, content"),"\ub97c \ub4e4\uace0 \ub2e4\ub154\ub294\ub370 \ubca1\uc5d4\ub4dc\uc640 \uc5f0\ub3d9\ud558\uc5ec \ud558\ub824\uace0 \ud558\ub2c8 content\uac12(\ud544\ub4dc\uc758 \uac12)\uc5d0 \uc9c1\uc811 \uc811\uadfc\ud558\ub294\uac8c \uc27d\uc9c0 \uc54a\uc558\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","content\uac00 \uc544\ub2cc id\uac12\uc744 \uc804\ub2ec\ud558\ub2c8 \ud55c\uacb0 \uc218\uc6d4\ud574\uc84c\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const updateMemo = async (editContent, id) => {\n  try {\n    const docRef = doc(db, "Memo", id);\n    await updateDoc(docRef, { content: editContent });\n  } catch (error) {\n    console.error("Error happened:", error);\n  }\n};\n')),(0,a.kt)("h3",{id:"optimistic-update"},"Optimistic Update"),(0,a.kt)("p",null,"edit \ubc84\ud2bc\uc744 \ub204\ub974\uba74, \uc870\uae08\uc758 \uc2dc\uac04\uc774 \ud750\ub974\uace0 \ubc14\ub010\ub2e4. \uc11c\ubc84\uc758 \uac12\uc744 \ubcc0\uacbd\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \uc0dd\uae30\ub294 delay\uc778\ub370, \uc0ac\uc6a9\uc790\uac00 \ubcf4\uae30\uc5d0 \uc88b\uc9c0 \uc54a\uc544\ubcf4\uc600\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\uc774\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc73c\ub85c \ub099\uad00\uc801\uc778 \uc5c5\ub370\uc774\ud2b8\uac00 \uc788\ub2e4. \ube0c\ub77c\uc6b0\uc800\uc5d0\ub294 \uc774\ubbf8 \ub3d9\uc791\ud55c \uac83\ucc98\ub7fc \ubcf4\uc5ec\uc8fc\uace0, \uc11c\ubc84\uc5d0 \uac12 \ubc18\uc601\uc740 \ucd94\ud6c4\uc5d0 \ud558\ub294 \uac83\uc774\ub2e4."),(0,a.kt)("h3",{id:"git-add"},"git add"),(0,a.kt)("p",null,"\uc800\ubc88\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"git add ."),"\uc744 \ud558\uba74 \uc228\uae40\ud30c\uc77c\uc740 \uc5c5\ub85c\ub4dc \ub418\uc9c0 \uc54a\ub294\ub2e4\uace0 \ud588\ub294\ub370, \ub2e4\uc2dc\ud574\ubcf4\ub2c8 \uc5c5\ub85c\ub4dc\uac00 \ub418\uc5c8\ub2e4. \uadf8\ub798\uc11c \uc5b4\uca54\uc218 \uc5c6\uc774 \ud30c\uc77c\uba85\uc744 \uadf8\ub300\ub85c \uc4f0\ub294 \uc218\ubc16\uc5d0 \uc5c6\uc5c8\ub2e4.",(0,a.kt)("br",{parentName:"p"}),"\n","\uadfc\ub370 \ub0b4 md\ud30c\uc77c\ub4e4\uc758 \uacbd\ub85c\ub294 \uc720\ub2c8\ucf54\ub4dc\ub85c \ub9cc\ub4e4\uc5b4\uc838 \uc788\uc5b4 \uadf8\ub0e5 \uacbd\ub85c\ub9cc \uce58\uba74 \uc62c\ub9b4 \uc218 \uc5c6\uc5c8\uace0 ",(0,a.kt)("inlineCode",{parentName:"p"},"git add $''"),"\ub97c \ud1b5\ud574 \uc62c\ub9b4 \uc218 \uc788\uc5c8\ub2e4. \"\"\ub294 \uc548\ub418\uace0 ''\ub9cc \ub41c\ub2e4."),(0,a.kt)("h1",{id:"i"},"I"),(0,a.kt)("h3",{id:"\uc88b\uc544\ud568\uc758-\uc815\ub3c4"},"\uc88b\uc544\ud568\uc758 \uc815\ub3c4"))}m.isMDXComponent=!0}}]);